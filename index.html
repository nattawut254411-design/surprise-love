<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ï‡∏≤‡∏°‡∏´‡∏≤‡∏£‡∏π‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å</title>
<style>
body{
  margin:0;
  font-family:"Comic Sans MS","Segoe UI",sans-serif;
  background:#000;
  height:100vh;
  overflow:hidden;
}

/* ===== Scratch ===== */
#scratchScreen{
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  background:linear-gradient(#ffc0cb,#ffd6e7);
  z-index:100;
}
#scratchBox{
  background:white; padding:25px;
  border-radius:20px;
  box-shadow:0 0 20px pink;
  text-align:center;
}
#scratchText{font-size:24px;color:#ff1493;}
#scratchContainer{position:relative;width:280px;}
#scratchImg{
  width:100%;
  border-radius:15px;
  visibility:hidden;
}
#scratchCanvas{
  position:absolute;left:0;top:0;
  border-radius:15px;
}

/* ===== ‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡∏£‡∏π‡∏õ ===== */
#game{
  display:none;
  position:fixed; inset:0;
  background:url("IMG20251228180638.jpg") no-repeat center/cover;
}
#title{
  position:fixed; top:60px; width:100%;
  text-align:center; font-size:26px;
  color:#fff;
  text-shadow:2px 2px 5px hotpink;
}
.hidden-img{
  position:absolute; width:60px;
  border-radius:12px; cursor:pointer;
}
#popup{
  position:fixed; inset:0;
  background:rgba(0,0,0,.6);
  display:none; justify-content:center; align-items:center;
}
#box{
  background:white; padding:15px;
  border-radius:20px; width:80%; max-width:300px;
  text-align:center;
}
#box img{width:100%;border-radius:15px;}
#collected{position:fixed;top:10px;right:10px;display:flex;gap:5px;}
#collected img{width:40px;border-radius:8px;}
button{
  margin-top:15px;
  padding:14px 26px;
  border:none;
  border-radius:30px;
  background:linear-gradient(45deg,pink,hotpink);
  color:#fff;
  font-size:18px;
}

/* ===== ‡∏´‡∏±‡∏ß‡πÉ‡∏à ===== */
#card{position:fixed;inset:0;display:none;justify-content:center;align-items:center;flex-direction:column;background:#ffb6c1;}
#heartCard{
  width:200px;height:180px;
  background:hotpink;
  transform:rotate(-45deg);
  position:relative;cursor:pointer;
  transition:.6s;
}
#heartCard::before,#heartCard::after{
  content:"";width:200px;height:180px;
  background:hotpink;border-radius:50%;position:absolute;
}
#heartCard::before{top:-90px;}
#heartCard::after{left:90px;}
.explode{transform:scale(2) rotate(-45deg);opacity:0;}
#cardText{margin-top:30px;color:white;font-size:24px;}

/* ===== note ===== */
#note{display:none;position:fixed;inset:0;background:#ffe4ec;justify-content:center;align-items:center;flex-direction:column;}
#noteText{font-size:24px;color:#ff1493;margin-bottom:20px;}
#giftBtn{display:none;}

/* ===== video ===== */
#videoBox{display:none;position:fixed;inset:0;justify-content:center;align-items:center;background:black;}
video{width:90%;max-width:400px;border-radius:20px;}

/* ===== final text ===== */
#finalScreen{display:none;position:fixed;inset:0;background:#ffb6c1;justify-content:center;align-items:center;flex-direction:column;}
#finalText{font-size:24px;color:white;margin-bottom:30px;}
#loveBtn{
  width:120px;height:120px;
  background:hotpink;border-radius:50%;
  animation:bounce 2s infinite;
}
@keyframes bounce{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-20px);}
}

/* ===== LOVE ===== */
#loveScreen{
  display:none; position:fixed; inset:0;
  background:linear-gradient(#ff69b4,#ffc0cb);
  overflow:hidden;
}
.loveChar{
  position:absolute;
  font-size:42px;
  font-weight:bold;
  color:white;
  text-shadow:2px 2px 0 #ff1493,4px 4px 0 #ff69b4;
  transition:2s;
}
.heart{
  position:absolute;
  color:white;
  animation:floatUp 6s linear infinite;
}
@keyframes floatUp{
  from{transform:translateY(100vh);opacity:0;}
  to{transform:translateY(-10vh);opacity:1;}
}
.flower{
  position:absolute;
  font-size:100px;
  bottom:-200px;
  left:50%;
  transform:translateX(-50%) scale(0);
  transition:2s;
}
</style>
</head>
<body>

<!-- SCRATCH -->
<div id="scratchScreen">
  <div id="scratchBox">
    <div id="scratchText">‡∏Ç‡∏π‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏î‡∏π‡∏™‡∏¥ üíñ</div>
    <div id="scratchContainer">
      <img src="1771053863584.jpg" id="scratchImg">
      <canvas id="scratchCanvas"></canvas>
    </div>
  </div>
</div>

<!-- GAME -->
<div id="game">
<div id="title">‡∏ä‡πà‡∏ß‡∏¢‡∏´‡∏≤‡∏£‡∏π‡∏õ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞ üíï</div>
<div id="collected"></div>

<img src="1763384908243.jpg" class="hidden-img" style="top:60%;left:10%" onclick="showImg(this,'‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î üíñ')">
<img src="IMG_9338 (10).JPG" class="hidden-img" style="top:30%;left:70%" onclick="showImg(this,'‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô üå∏')">
<img src="IMG20251214170718.jpg" class="hidden-img" style="top:75%;left:50%" onclick="showImg(this,'‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ü•∞')">
<img src="IMG20251205140405.jpg" class="hidden-img" style="top:40%;left:20%" onclick="showImg(this,'‡∏£‡∏±‡∏Å‡∏ô‡∏∞‡∏Ñ‡∏ô‡∏î‡∏µ üíï')">
<img src="Screenshot_20240504_204902.jpg" class="hidden-img" style="top:20%;left:45%" onclick="showImg(this,'‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ üíû')">
</div>

<div id="popup">
  <div id="box">
    <img id="popimg">
    <p id="text"></p>
    <button onclick="collect()">‡∏ï‡∏Å‡∏•‡∏á</button>
  </div>
</div>

<!-- HEART -->
<div id="card">
  <div id="heartCard" onclick="tearCard()"></div>
  <div id="cardText">‡∏Å‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏î‡∏π‡∏™‡∏¥ üíñ</div>
</div>

<!-- NOTE -->
<div id="note">
  <div id="noteText"></div>
  <button id="giftBtn" onclick="showVideo()">‡∏î‡∏π‡∏Ñ‡∏•‡∏¥‡∏õ</button>
</div>

<!-- VIDEO -->
<div id="videoBox">
  <video id="loveVideo" playsinline>
    <source src="lv_0_20260214132326.mp4" type="video/mp4">
  </video>
</div>

<!-- FINAL TEXT -->
<div id="finalScreen">
  <div id="finalText"></div>
  <div id="loveBtn" onclick="goLove()"></div>
</div>

<div id="loveScreen"></div>

<script>
/* ===== SCRATCH ===== */
const canvas=document.getElementById("scratchCanvas");
const img=document.getElementById("scratchImg");
const ctx=canvas.getContext("2d");

img.onload=()=>{
  canvas.width=img.clientWidth;
  canvas.height=img.clientHeight;
  ctx.fillStyle="silver";
  ctx.fillRect(0,0,canvas.width,canvas.height);
};

let drawing=false;
canvas.addEventListener("mousedown",()=>drawing=true);
canvas.addEventListener("mouseup",()=>drawing=false);
canvas.addEventListener("touchstart",()=>drawing=true);
canvas.addEventListener("touchend",()=>drawing=false);
canvas.addEventListener("mousemove",scratch);
canvas.addEventListener("touchmove",scratch);

function scratch(e){
  if(!drawing)return;
  let r=canvas.getBoundingClientRect();
  let x=(e.touches?e.touches[0].clientX:e.clientX)-r.left;
  let y=(e.touches?e.touches[0].clientY:e.clientY)-r.top;
  ctx.globalCompositeOperation="destination-out";
  ctx.beginPath();ctx.arc(x,y,20,0,Math.PI*2);ctx.fill();
  checkClear();
}
function checkClear(){
  let d=ctx.getImageData(0,0,canvas.width,canvas.height).data;
  let c=0;
  for(let i=3;i<d.length;i+=4) if(d[i]===0) c++;
  if(c>d.length/8){
    img.style.visibility="visible";
    document.getElementById("scratchScreen").style.display="none";
    document.getElementById("game").style.display="block";
  }
}

/* ===== GAME ===== */
let count=0,lastImg;
function showImg(i,t){
  lastImg=i;
  popimg.src=i.src;
  text.innerText=t;
  popup.style.display="flex";
}
function collect(){
  popup.style.display="none";
  lastImg.style.display="none";
  let c=document.createElement("img");
  c.src=lastImg.src;
  collected.appendChild(c);
  count++;
  if(count==5){
    game.style.display="none";
    card.style.display="flex";
  }
}

/* ===== HEART ===== */
function tearCard(){
  heartCard.classList.add("explode");
  setTimeout(()=>{
    card.style.display="none";
    note.style.display="flex";
    let msg="‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡∏≠‡πâ‡∏ß‡∏ô‡∏ô‡∏∞ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ üíû";
    let i=0;
    let t=setInterval(()=>{
      noteText.innerText+=msg[i++];
      if(i>=msg.length){
        clearInterval(t);
        giftBtn.style.display="inline-block";
      }
    },60);
  },600);
}

/* ===== VIDEO ===== */
function showVideo(){
  note.style.display="none";
  videoBox.style.display="flex";
  loveVideo.play();
  loveVideo.onended=()=>{
    videoBox.style.display="none";
    showFinalText();
  }
}

/* ===== FINAL TEXT ===== */
function showFinalText(){
  finalScreen.style.display="flex";
  let msg="‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô üíû";
  let i=0;
  let t=setInterval(()=>{
    finalText.innerText+=msg[i++];
    if(i>=msg.length) clearInterval(t);
  },60);
}

/* ===== LOVE ===== */
function goLove(){
  finalScreen.style.display="none";
  loveScreen.style.display="block";
  let word="ILOVEYOU";
  let cx=innerWidth/2;
  let cy=innerHeight/2;
  let space=45;
  for(let i=0;i<word.length;i++){
    let d=document.createElement("div");
    d.className="loveChar";
    d.innerText=word[i];
    d.style.left=Math.random()*innerWidth+"px";
    d.style.top=Math.random()*innerHeight+"px";
    loveScreen.appendChild(d);
    setTimeout(()=>{
      d.style.left=(cx-(word.length/2-i)*space)+"px";
      d.style.top=cy+"px";
    },100);
  }

  setInterval(()=>{
    let h=document.createElement("div");
    h.className="heart";
    h.innerText="‚ù§";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=(15+Math.random()*20)+"px";
    loveScreen.appendChild(h);
    setTimeout(()=>h.remove(),6000);
  },500);

  ["üíê","üåπ","üå∑","üå∏","üåº","üå∫","üåª"].forEach((f,i)=>{
    setTimeout(()=>{
      let fl=document.createElement("div");
      fl.className="flower";
      fl.innerText=f;
      loveScreen.appendChild(fl);
      setTimeout(()=>{fl.style.bottom="20%";fl.style.transform="translateX(-50%) scale(1)";},100);
      setTimeout(()=>{fl.style.left=(10+i*12)+"%";fl.style.transform="translateX(-50%) scale(0.4)";},2500);
    },i*2500);
  });
}
</script>
</body>
</html>
